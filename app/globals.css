@import "tailwindcss";

/* ========================================
   CSS Variables - Light Theme (Default)
   ======================================== */
:root {
  /* Background colors */
  --background: #FFFFFF;
  --background-secondary: #F5F8FA;
  --background-tertiary: #E1E8ED;

  /* Text colors */
  --foreground: #14171A;
  --foreground-secondary: #657786;
  --foreground-tertiary: #AAB8C2;

  /* Border colors */
  --border-color: #E1E8ED;
  --border-color-hover: #AAB8C2;

  /* Card colors */
  --card-bg: #FFFFFF;
  --card-hover: rgba(0, 0, 0, 0.03);

  /* Twitter Color Palette */
  --twitter-blue: #1DA1F2;
  --twitter-blue-hover: #1a91da;
  --twitter-blue-light: rgba(29, 161, 242, 0.1);
  --twitter-dark: #14171A;
  --twitter-gray: #657786;
  --twitter-light-gray: #AAB8C2;
  --twitter-extra-light: #E1E8ED;
  --twitter-bg: #F5F8FA;

  /* Engagement Colors */
  --twitter-like: #E0245E;
  --twitter-like-bg: rgba(224, 36, 94, 0.1);
  --twitter-retweet: #17BF63;
  --twitter-retweet-bg: rgba(23, 191, 99, 0.1);
  --twitter-bookmark: #1DA1F2;
  --twitter-bookmark-bg: rgba(29, 161, 242, 0.1);

  /* Severity colors */
  --severity-critical-bg: #FEE2E2;
  --severity-critical-text: #DC2626;
  --severity-critical-border: #FECACA;
  --severity-high-bg: #FFEDD5;
  --severity-high-text: #EA580C;
  --severity-high-border: #FED7AA;
  --severity-medium-bg: #FEF9C3;
  --severity-medium-text: #CA8A04;
  --severity-medium-border: #FEF08A;
  --severity-low-bg: #DBEAFE;
  --severity-low-text: #2563EB;
  --severity-low-border: #BFDBFE;
}

/* ========================================
   CSS Variables - Dark Theme
   ======================================== */
[data-theme="dark"] {
  /* Background colors */
  --background: #15202B;
  --background-secondary: #192734;
  --background-tertiary: #22303C;

  /* Text colors */
  --foreground: #FFFFFF;
  --foreground-secondary: #8899A6;
  --foreground-tertiary: #657786;

  /* Border colors */
  --border-color: #38444D;
  --border-color-hover: #536471;

  /* Card colors */
  --card-bg: #192734;
  --card-hover: rgba(255, 255, 255, 0.03);

  /* Override Twitter palette for dark mode */
  --twitter-dark: #FFFFFF;
  --twitter-gray: #8899A6;
  --twitter-light-gray: #657786;
  --twitter-extra-light: #38444D;
  --twitter-bg: #192734;

  /* Severity colors (darker variants) */
  --severity-critical-bg: rgba(220, 38, 38, 0.2);
  --severity-critical-text: #F87171;
  --severity-critical-border: rgba(220, 38, 38, 0.3);
  --severity-high-bg: rgba(234, 88, 12, 0.2);
  --severity-high-text: #FB923C;
  --severity-high-border: rgba(234, 88, 12, 0.3);
  --severity-medium-bg: rgba(202, 138, 4, 0.2);
  --severity-medium-text: #FACC15;
  --severity-medium-border: rgba(202, 138, 4, 0.3);
  --severity-low-bg: rgba(37, 99, 235, 0.2);
  --severity-low-text: #60A5FA;
  --severity-low-border: rgba(37, 99, 235, 0.3);
}

/* System preference dark mode (fallback when no data-theme) */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    --background: #15202B;
    --background-secondary: #192734;
    --background-tertiary: #22303C;
    --foreground: #FFFFFF;
    --foreground-secondary: #8899A6;
    --foreground-tertiary: #657786;
    --border-color: #38444D;
    --border-color-hover: #536471;
    --card-bg: #192734;
    --card-hover: rgba(255, 255, 255, 0.03);
    --twitter-dark: #FFFFFF;
    --twitter-gray: #8899A6;
    --twitter-light-gray: #657786;
    --twitter-extra-light: #38444D;
    --twitter-bg: #192734;
  }
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

/* ========================================
   Typography - Using Geist Font Family
   ======================================== */
body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-geist-sans), -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  font-size: 15px;
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Twitter-style text scale classes */
.text-twitter-body {
  font-size: 15px;
  line-height: 1.5;
}

.text-twitter-secondary {
  font-size: 13px;
  line-height: 1.4;
}

.text-twitter-header {
  font-size: 20px;
  line-height: 1.3;
  font-weight: 700;
}

.text-twitter-large {
  font-size: 23px;
  line-height: 1.3;
  font-weight: 700;
}

/* Animation for new feed items sliding in */
@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-slideIn {
  animation: slideIn 0.3s ease-out forwards;
}

/* Animation for alert badge wiggle */
@keyframes wiggle {
  0%, 100% {
    transform: rotate(0deg);
  }
  15% {
    transform: rotate(-15deg);
  }
  30% {
    transform: rotate(12deg);
  }
  45% {
    transform: rotate(-10deg);
  }
  60% {
    transform: rotate(8deg);
  }
  75% {
    transform: rotate(-5deg);
  }
  90% {
    transform: rotate(3deg);
  }
}

.animate-wiggle {
  animation: wiggle 0.6s ease-in-out;
}

/* Toast notification animations */
@keyframes toastIn {
  from {
    opacity: 0;
    transform: translateX(100%);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes toastOut {
  from {
    opacity: 1;
    transform: translateX(0);
  }
  to {
    opacity: 0;
    transform: translateX(100%);
  }
}

.animate-toastIn {
  animation: toastIn 0.3s ease-out forwards;
}

.animate-toastOut {
  animation: toastOut 0.3s ease-in forwards;
}

/* New item highlight glow effect */
@keyframes highlightGlow {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(59, 130, 246, 0);
  }
  50% {
    box-shadow: 0 0 20px 4px rgba(59, 130, 246, 0.3);
  }
}

.animate-highlightGlow {
  animation: highlightGlow 2s ease-in-out;
}

/* ========================================
   Twitter-Inspired Engagement Animations
   ======================================== */

/* Heart pulse animation for like action */
@keyframes heartPulse {
  0% {
    transform: scale(1);
  }
  25% {
    transform: scale(1.3);
  }
  50% {
    transform: scale(0.95);
  }
  75% {
    transform: scale(1.1);
  }
  100% {
    transform: scale(1);
  }
}

.animate-heart-pulse {
  animation: heartPulse 0.4s ease-out forwards;
}

/* Bookmark fill animation */
@keyframes bookmarkFill {
  0% {
    transform: scale(1) translateY(0);
  }
  30% {
    transform: scale(0.9) translateY(2px);
  }
  60% {
    transform: scale(1.15) translateY(-2px);
  }
  100% {
    transform: scale(1) translateY(0);
  }
}

.animate-bookmark-fill {
  animation: bookmarkFill 0.35s ease-out forwards;
}

/* ========================================
   Twitter-Inspired Hover Transitions
   ======================================== */

/* Smooth hover transition for engagement buttons */
.twitter-hover-transition {
  transition: color 0.15s ease-out, background-color 0.15s ease-out, transform 0.15s ease-out;
}

/* Hover background circle effect for action buttons */
.twitter-action-hover {
  position: relative;
  border-radius: 9999px;
  transition: background-color 0.2s ease-out, color 0.2s ease-out;
}

.twitter-action-hover:hover {
  background-color: rgba(29, 161, 242, 0.1);
}

/* Like button specific hover */
.twitter-like-hover:hover {
  color: var(--twitter-like);
  background-color: rgba(224, 36, 94, 0.1);
}

/* Retweet/share button specific hover */
.twitter-retweet-hover:hover {
  color: var(--twitter-retweet);
  background-color: rgba(23, 191, 99, 0.1);
}

/* Bookmark button specific hover */
.twitter-bookmark-hover:hover {
  color: var(--twitter-bookmark);
  background-color: rgba(29, 161, 242, 0.1);
}

/* Card hover effect */
.twitter-card-hover {
  transition: background-color 0.2s ease-out;
}

.twitter-card-hover:hover {
  background-color: var(--card-hover);
}

/* ========================================
   Twitter-Inspired Focus Rings
   ======================================== */

/* Twitter-style focus ring */
.twitter-focus-ring:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--twitter-blue);
}

.twitter-focus-ring:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px var(--twitter-blue);
}

/* Focus ring for dark backgrounds */
.twitter-focus-ring-light:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px rgba(29, 161, 242, 0.5);
}

/* Subtle focus for input fields */
.twitter-input-focus:focus {
  outline: none;
  border-color: var(--twitter-blue);
  box-shadow: 0 0 0 1px var(--twitter-blue);
}

/* ========================================
   Twitter-Inspired Utility Classes
   ======================================== */

/* Text colors using Twitter palette */
.text-twitter-blue {
  color: var(--twitter-blue);
}

.text-twitter-dark {
  color: var(--twitter-dark);
}

.text-twitter-gray {
  color: var(--twitter-gray);
}

.text-twitter-light-gray {
  color: var(--twitter-light-gray);
}

/* Background colors using Twitter palette */
.bg-twitter-blue {
  background-color: var(--twitter-blue);
}

.bg-twitter-bg {
  background-color: var(--twitter-bg);
}

.bg-twitter-extra-light {
  background-color: var(--twitter-extra-light);
}

/* Border colors using Twitter palette */
.border-twitter-extra-light {
  border-color: var(--twitter-extra-light);
}

/* Hover states for Twitter blue */
.hover\:bg-twitter-blue-hover:hover {
  background-color: var(--twitter-blue-hover);
}

.hover\:text-twitter-blue:hover {
  color: var(--twitter-blue);
}

/* ========================================
   Safe Area Insets for iOS
   ======================================== */

/* Padding utilities for safe areas */
.pt-safe {
  padding-top: env(safe-area-inset-top, 0px);
}

.pb-safe {
  padding-bottom: env(safe-area-inset-bottom, 0px);
}

.pl-safe {
  padding-left: env(safe-area-inset-left, 0px);
}

.pr-safe {
  padding-right: env(safe-area-inset-right, 0px);
}

.p-safe {
  padding-top: env(safe-area-inset-top, 0px);
  padding-bottom: env(safe-area-inset-bottom, 0px);
  padding-left: env(safe-area-inset-left, 0px);
  padding-right: env(safe-area-inset-right, 0px);
}

/* Bottom spacing that accounts for safe area */
.mb-safe {
  margin-bottom: env(safe-area-inset-bottom, 0px);
}

/* Min height accounting for safe area */
.min-h-screen-safe {
  min-height: calc(100vh - env(safe-area-inset-top, 0px) - env(safe-area-inset-bottom, 0px));
}

/* Bottom position accounting for safe area */
.bottom-safe {
  bottom: env(safe-area-inset-bottom, 0px);
}

/* ========================================
   Micro-interactions & Polish
   ======================================== */

/* Tap scale effect for mobile buttons */
.tap-scale {
  transition: transform 0.1s ease-out;
}

.tap-scale:active {
  transform: scale(0.95);
}

/* Skeleton shimmer animation */
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.animate-shimmer {
  background: linear-gradient(
    90deg,
    var(--background-secondary) 0%,
    var(--background-tertiary) 50%,
    var(--background-secondary) 100%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s ease-in-out infinite;
}

/* Smooth focus transition */
.focus-smooth {
  transition: box-shadow 0.15s ease-out, border-color 0.15s ease-out;
}

.focus-smooth:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--twitter-blue);
}

/* Fade in/out animations */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animate-fadeIn {
  animation: fadeIn 0.2s ease-out forwards;
}

.animate-fadeOut {
  animation: fadeOut 0.2s ease-in forwards;
}

/* Slide up animation for FAB/scroll-to-top */
@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-slideUp {
  animation: slideUp 0.3s ease-out forwards;
}

/* Pull-to-refresh spinner */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.animate-spin-slow {
  animation: spin 1s linear infinite;
}

/* ========================================
   Reduced Motion Preferences
   ======================================== */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  .animate-shimmer,
  .animate-slideIn,
  .animate-wiggle,
  .animate-heart-pulse,
  .animate-bookmark-fill,
  .animate-highlightGlow,
  .animate-spin-slow {
    animation: none !important;
  }
}

/* ========================================
   Dark Mode Semantic Classes
   ======================================== */
.bg-surface {
  background-color: var(--background);
}

.bg-surface-secondary {
  background-color: var(--background-secondary);
}

.bg-surface-tertiary {
  background-color: var(--background-tertiary);
}

.text-primary {
  color: var(--foreground);
}

.text-secondary {
  color: var(--foreground-secondary);
}

.text-tertiary {
  color: var(--foreground-tertiary);
}

.border-default {
  border-color: var(--border-color);
}

.border-hover {
  border-color: var(--border-color-hover);
}

/* Card background with dark mode support */
.bg-card {
  background-color: var(--card-bg);
}

/* ========================================
   Bottom Navigation Styles
   ======================================== */
.bottom-nav-glassmorphism {
  background: rgba(255, 255, 255, 0.85);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
}

[data-theme="dark"] .bottom-nav-glassmorphism {
  background: rgba(21, 32, 43, 0.85);
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) .bottom-nav-glassmorphism {
    background: rgba(21, 32, 43, 0.85);
  }
}
